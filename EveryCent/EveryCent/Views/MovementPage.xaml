<?xml version="1.0" encoding="utf-8" ?>
<base:ViewPageBase  xmlns="http://xamarin.com/schemas/2014/forms"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             xmlns:base="clr-namespace:EveryCent.Base"
             xmlns:globalization="clr-namespace:EveryCent.MarkupExtensions;assembly=EveryCent"             
             x:Class="EveryCent.Views.MovementPage"
             BackgroundColor="{StaticResource PageBackgroundColor}">
    <base:ViewPageBase.Content>

        <TableView Intent="Form">
            
            <TableRoot Title="Movement">

                <TableSection Title="{globalization:Translate Details}">
                    <EntryCell Text="{Binding Amount}" Label="{globalization:Translate Amount}" Keyboard="Numeric" />
                    <SwitchCell Text="{globalization:Translate IncomeSpend}" On="{Binding IsPositive}" />
                    <ViewCell>
                        <StackLayout Orientation="Horizontal" Margin="18,0,5,2">
                            <Label Text="{globalization:Translate Date}" VerticalOptions="Center" />
                            <DatePicker Date="{Binding Date}"></DatePicker>
                        </StackLayout>
                    </ViewCell>
                </TableSection>
                
                <TableSection Title="{globalization:Translate Description}">
                    <ViewCell>
                        <Grid Margin="5,0,5,2">
                            <Editor Text="{Binding Description}" HeightRequest="100"></Editor>
                        </Grid>
                    </ViewCell>
                </TableSection>

                <TableSection Title="Options">
                    <ViewCell>
                        <Grid Margin="5,0,5,2">

                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="*"/>
                                <ColumnDefinition Width="Auto"/>
                                <ColumnDefinition Width=".1*" />
                                <ColumnDefinition Width="Auto"/>
                                <ColumnDefinition Width="*"/>
                            </Grid.ColumnDefinitions>

                            <Image Grid.Column="1" HorizontalOptions="Center" VerticalOptions="Center" Margin="10">
                                <Image.GestureRecognizers>
                                    <TapGestureRecognizer Command="{Binding BackToDashboardCommand}" CommandParameter="Cancel" />
                                </Image.GestureRecognizers>
                                <Image.Source>
                                    <OnPlatform x:TypeArguments="ImageSource">
                                        <OnPlatform.iOS>
                                            <FileImageSource File="Images/cancel.png" />
                                        </OnPlatform.iOS>
                                        <OnPlatform.Android>
                                            <FileImageSource File="cancel.png" />
                                        </OnPlatform.Android>
                                        <OnPlatform.WinPhone>
                                            <FileImageSource File="Assets/Images/cancel.png" />
                                        </OnPlatform.WinPhone>
                                    </OnPlatform>
                                </Image.Source>
                            </Image>

                            <Image Grid.Column="3" HorizontalOptions="Center" VerticalOptions="Center" Margin="10">
                                <Image.GestureRecognizers>
                                    <TapGestureRecognizer Command="{Binding SaveCommand}" CommandParameter="Save" />
                                </Image.GestureRecognizers>
                                <Image.Source>
                                    <OnPlatform x:TypeArguments="ImageSource">
                                        <OnPlatform.iOS>
                                            <FileImageSource File="Images/ok.png" />
                                        </OnPlatform.iOS>
                                        <OnPlatform.Android>
                                            <FileImageSource File="ok.png" />
                                        </OnPlatform.Android>
                                        <OnPlatform.WinPhone>
                                            <FileImageSource File="Assets/Images/ok.png" />
                                        </OnPlatform.WinPhone>
                                    </OnPlatform>
                                </Image.Source>
                            </Image>

                        </Grid>
                        
                    </ViewCell>
                    
                </TableSection>
                
            </TableRoot>
            
        </TableView>

    </base:ViewPageBase.Content>
</base:ViewPageBase>